<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SciText Digitizer (SVG)</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
  <script>
    pdfjsLib.GlobalWorkerOptions.workerSrc = "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js";
  </script>
</head>
<body>
  <canvas id="processing-canvas" style="display:none;"></canvas>

  <!-- LOAD SINGLE APPLICATION BUNDLE -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SciText Digitizer (SVG)</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
  <script>
    pdfjsLib.GlobalWorkerOptions.workerSrc = "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js";
  </script>
</head>
<body>
  <canvas id="processing-canvas" style="display:none;"></canvas>

<script type="module">
  import('./src/app.js')
    .catch(() => import('https://lsparrish.github.io/sciconvert/src/app.js'))
    .then(() => {
      window.app.bootstrap();
    });
</script>
</body>
</html>

  <!-- UI INITIALIZATION -->
  <script>
    // Developer Note:
    // To add custom UI extensions without modifying app.js, use the window.app.insertElementBefore API.
    // Example:
    // window.app.insertElementBefore('<button>My Button</button>', '#some-selector', (el) => { ... });
if (window.app) {
      window.app.insertElementBefore(
        '<button id="test-btn" style="background:#ef4444; color:white; padding:0.5rem 1rem; border:none; border-radius:0.375rem;">Test Button</button>',
        '#context-actions',
        el => el.onclick = () => alert('Test extension works!')
      );
    }
  </script>
</body>
</html>
